(window.webpackJsonp=window.webpackJsonp||[]).push([["login"],{"186f":function(t,e,o){"use strict";var a=o("e6a0");o.n(a).a},"4ea4":function(t,e,o){"use strict";var a=o("f9a5");o.n(a).a},"5c91":function(t,e,o){"use strict";o.r(e);var a=o("cebc"),s=o("e576"),i=o("a00a"),r={name:"Reg",data:function(){return{loading:!1,form:{account:"",password:"",rememberMe:!0},isShowPw:!1,isDisabled:!1,rules:{account:[{required:!0,trigger:"blur",validator:i.a}],password:[{required:!0,trigger:"blur",validator:i.a}]}}},created:function(){},methods:{triggerPWCanSee:function(){this.isShowPw=!this.isShowPw},handleSubmit:function(t){var e=this;this.loading||this.$refs.form.validate(function(t){if(!t)return!1;e.loading=!0;var o=Object(a.a)({},e.form);Object(s.c)(o).then(function(t){e.RegSuccess(t),e.isDisabled=!0}).catch(function(t){return e.requestFailed(t)}).finally(function(){e.loading=!1})})},RegSuccess:function(t){this.$message({message:"注册成功",type:"success",duration:5e3}),this.$router.push({path:"/login"})},requestFailed:function(t){}},mounted:function(){},beforeDestroy:function(){}},n=(o("186f"),o("2877")),l=Object(n.a)(r,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"login"},[o("el-form",{ref:"form",staticClass:"login-form",attrs:{model:t.form,rules:t.rules}},[o("el-form-item",{attrs:{prop:"account"}},[o("el-input",{staticClass:"login-form__input",attrs:{placeholder:"请输入账号（任意6位字母或数字）",clearable:""},model:{value:t.form.account,callback:function(e){t.$set(t.form,"account",e)},expression:"form.account"}},[o("template",{slot:"prepend"},[t._v("账号")])],2)],1),o("el-form-item",{attrs:{prop:"password"}},[o("el-input",{staticClass:"login-form__input",attrs:{placeholder:"请输入密码（任意6位字母或数字）",type:t.isShowPw?"text":"password"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}},[o("template",{slot:"prepend"},[t._v("密码")]),o("i",{staticClass:"iconfont",class:t.isShowPw?"icon-htmal5icon08":"icon-htmal5icon09",attrs:{slot:"suffix"},on:{click:t.triggerPWCanSee},slot:"suffix"})],2)],1),o("el-form-item",{staticClass:"login-form__item"},[o("el-button",{directives:[{name:"debounce",rawName:"v-debounce:300",value:t.handleSubmit,expression:"handleSubmit",arg:"300"}],staticClass:"login-form__btn",attrs:{type:"primary",loading:t.loading,disabled:t.isDisabled}},[t._v("注 册")])],1)],1),o("div",{staticClass:"login-nav"},[o("router-link",{staticClass:"login-nav__link",attrs:{to:{path:"/login"}}},[t._v("使用已有账号登录")])],1)],1)},[],!1,null,"91d2edcc",null);e.default=l.exports},"8b05":function(t,e,o){"use strict";o.r(e);var a=o("cebc"),s=o("5880"),i=o("a00a"),r={name:"Login",data:function(){return{loading:!1,form:{account:"",password:"",rememberMe:!0},isShowPw:!1,isDisabled:!1,rules:{account:[{required:!0,trigger:"blur",validator:i.a}],password:[{required:!0,trigger:"blur",validator:i.a}]}}},created:function(){},methods:Object(a.a)({},Object(s.mapActions)(["Login"]),{triggerPWCanSee:function(){this.isShowPw=!this.isShowPw},handleSubmit:function(t){var e=this;this.loading||this.$refs.form.validate(function(t){if(!t)return!1;e.loading=!0;var o=Object(a.a)({},e.form);e.Login(o).then(function(t){e.loginSuccess(t),e.isDisabled=!0}).catch(function(t){return e.requestFailed(t)}).finally(function(){e.loading=!1})})},loginSuccess:function(t){this.$router.push({path:"/"})},requestFailed:function(t){}}),mounted:function(){document.body.classList.add("userLayout")},beforeDestroy:function(){document.body.classList.remove("userLayout")}},n=(o("4ea4"),o("2877")),l=Object(n.a)(r,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"login"},[o("el-form",{ref:"form",staticClass:"login-form",attrs:{model:t.form,rules:t.rules}},[o("el-form-item",{attrs:{prop:"account"}},[o("el-input",{staticClass:"login-form__input",attrs:{placeholder:"请输入账号（任意6位字母或数字）",clearable:""},model:{value:t.form.account,callback:function(e){t.$set(t.form,"account",e)},expression:"form.account"}},[o("template",{slot:"prepend"},[t._v("账号")])],2)],1),o("el-form-item",{attrs:{prop:"password"}},[o("el-input",{staticClass:"login-form__input",attrs:{placeholder:"请输入密码（任意6位字母或数字）",type:t.isShowPw?"text":"password"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}},[o("template",{slot:"prepend"},[t._v("密码")]),o("i",{staticClass:"iconfont",class:t.isShowPw?"icon-htmal5icon08":"icon-htmal5icon09",attrs:{slot:"suffix"},on:{click:t.triggerPWCanSee},slot:"suffix"})],2)],1),o("el-form-item",{staticClass:"login-form__item"},[o("el-button",{directives:[{name:"debounce",rawName:"v-debounce:300",value:t.handleSubmit,expression:"handleSubmit",arg:"300"}],staticClass:"login-form__btn",attrs:{type:"primary",loading:t.loading,disabled:t.isDisabled}},[t._v("登 录")])],1),o("el-form-item",{staticClass:"login-form__item"},[o("el-checkbox",{model:{value:t.form.rememberMe,callback:function(e){t.$set(t.form,"rememberMe",e)},expression:"form.rememberMe"}},[t._v("记住密码")])],1)],1),o("div",{staticClass:"login-nav"},[o("router-link",{staticClass:"login-nav__link",attrs:{to:{path:"/login/reg"}}},[t._v("注册")])],1)],1)},[],!1,null,"737e9cc4",null);e.default=l.exports},a00a:function(t,e,o){"use strict";o.d(e,"a",function(){return a}),o("a481");var a=function(t,e,o){e?(e=(e+"").replace(/(^\s*)|(\s*$)/g,""),/^[a-zA-Z0-9]{6,19}$/.test(e)?o():o(new Error("请输入6-19数字或字母"))):o(new Error("请输入数字或字母"))}},e6a0:function(t,e,o){},f9a5:function(t,e,o){}}]);